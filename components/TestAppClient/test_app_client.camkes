/*
 *  OS Network Stack Client Test App
 *
 *  Copyright (C) 2019-2021, Hensoldt Cyber GmbH
 *
 */

import <if_OS_Socket.camkes>;

#include "SysLogger/camkes/SysLogger.camkes"
#include "util/loop_defines.h"
#include "system_config.h"

component NwApp1 {

    control;


    //------------------------
    // network stack interface. Note that the names of the CAmkES object are
    // hard-coded in the network client lib

    uses if_OS_Socket networkStack_rpc;

    emits    EventApiTestsDone event_network_app_send_ready;
    consumes EventApiTestsDone event_network_app_recv_ready;

#define LOOP_COUNT OS_NETWORK_MAXIMUM_SOCKET_NO
#define LOOP_ELEMENT \
    GEN_PORT(dataport Buf socket_);
#include "util/loop.h"

    SysLogger_CLIENT_DECLARE_CONNECTOR(sysLogger)
}
