/*
 *  SEOS Network Stack CAmkES instance 1
 *
 *  Copyright (C) 2019, Hensoldt Cyber GmbH
 *
 */

import "../../../../interfaces/ChanMuxInf.camkes";
import "../../../../interfaces/NwStackInf.camkes";
import "../../../../interfaces/timer_client.camkes";

component NwStack {
    control;

    dataport    Buf                     chanMuxDataPortRead;
    dataport    Buf                     chanMuxDataPortWrite;
    dataport    Buf                     chanMuxCtrlDataPort;
    uses        ChanMuxNwStackInf       ChanMux;
    uses        timer_client_inf        Timer;

    /* Below interface is for applications using Nw stack TCP/IP  */

    provides    NwStackInf              seos;
    dataport    Buf                     NwAppDataPort;

    /* List of signal emits and consumed */
    /* e - emit and c - consume */

    emits       NwStack_Initdone        e_initdone;   /* actually consumed by app */
    consumes    NwStack_Initdone        c_initdone;

    emits       NwStack_WrEv            e_write;
    consumes    NwStack_WrEv            c_write;

    emits       NwStack_RdEv            e_read;
    consumes    NwStack_RdEv            c_read;

    emits       NwStack_DataAvailable   e_write_nwstacktick;
    consumes    NwStack_DataAvailable   c_nwstacktick;
}
