/*
 *  OS Network Stack Server Test App
 *
 *  Copyright (C) 2019, Hensoldt Cyber GmbH
 *
 */

import <if_OS_Socket.camkes>;
#include "util/loop_defines.h"
#include "system_config.h"

component NwApp_2 {

    control;


    //------------------------
    // network stack interface. Note that the names of the CAmkES object are
    // hard-coded in the network client lib

    uses if_OS_Socket network_stack_rpc;
    consumes EventServiceReady event_network_stack_init_done;

#define LOOP_COUNT OS_NETWORK_MAXIMUM_SOCKET_NO
#define LOOP_ELEMENT \
    GEN_ID(dataport Buf NwAppDataPort);
#include "util/loop.h"

}
